tarif:
  titre: Tarif de transport
  description: Calcul du tarif de transport en fonction de votre situation
  ic√¥nes: üöå üí≥
  formule: 
    variations:
      - si: type voyage = 'occasionnel'
        alors: tarif occasionnel
      - si: type voyage = 'fr√©quent'
        alors: tarif fr√©quent
      - si: type voyage = 'scolaire'
        alors: 0

type voyage:
  question: Quel type de voyage souhaitez-vous effectuer ?
  par d√©faut: "'occasionnel'"
  suggestions:
    - "'occasionnel'"
    - "'fr√©quent'"
    - "'scolaire'"

# Tarifs occasionnels
tarif occasionnel:
  applicable si: type voyage = 'occasionnel'
  formule:
    variations:
      - si: type ticket = '1 voyage'
        alors: 2.10
      - si: type ticket = '2 voyage'
        alors: 3.60
      - si: type ticket = '10 voyage'
        alors: 
          variations:
            - si: tarif r√©duit applicable
              alors: 8.40
            - sinon: 16.80

type ticket:
  question: Quel type de ticket souhaitez-vous ?
  par d√©faut: '1 voyage'
  applicable si: type voyage = 'occasionnel'
  suggestions:
    - '1 voyage'
    - '2 voyage'
    - '10 voyage'

tarif r√©duit applicable:
  applicable si: type ticket = '10 voyage'
  formule: √©tudiant = 'oui' ou famille nombreuse = 'oui' ou militaire = 'oui'
  description: Les tarifs r√©duits s'appliquent aux √©tudiants, familles nombreuses et militaires

√©tudiant:
  question: √ätes-vous √©tudiant ?
  par d√©faut: 'non'
  applicable si: type ticket = '10 voyage'
  suggestions:
    - 'oui'
    - 'non'

militaire:
  question: √ätes-vous militaire ?
  par d√©faut: 'non'
  applicable si: type ticket = '10 voyage'
  suggestions:
    - 'oui'
    - 'non'

famille nombreuse:
  question: Avez-vous le statut de famille nombreuse ?
  par d√©faut: 'non'
  applicable si: type ticket = '10 voyage'
  description: "Famille nombreuse = 3 enfants de moins de 18 ans dans le foyer, ou carte SNCF Famille Nombreuse, ou 5 enfants dans le foyer"
  suggestions:
    - 'oui'
    - 'non'

# Tarifs fr√©quents
tarif fr√©quent:
  applicable si: type voyage = 'fr√©quent'
  formule:
    variations:
      - si: tranche solidaire = 'tranche 2'
        alors: tarif solidaire 50
      - si: tranche solidaire = 'tranche 3'
        alors: tarif solidaire 30
      - sinon: tarif standard

tarif standard:
  applicable si: type voyage = 'fr√©quent'
  formule:
    variations:
      - si: √¢ge < 11
        alors: tarif pitchoun
      - si: √¢ge >= 11 et √¢ge <= 27
        alors: tarif jeune
      - si: √¢ge >= 28 et √¢ge < 60
        alors: 
          variations:
            - si: salari√© = 'oui'
              alors: tarif salari√© 
            - sinon: tarif classique
      - si: √¢ge >= 60
        alors: tarif senior

tarif pitchoun:
  applicable si: type voyage = 'fr√©quent'
  formule:
    variations:
      - si: p√©riodicit√© = 'mensuel'
        alors: 12.20
      - si: p√©riodicit√© = 'annuel'
        alors: 146.40

tarif jeune:
  applicable si: type voyage = 'fr√©quent'
  formule:
    variations:
      - si: p√©riodicit√© = 'mensuel'
        alors: 35.10
      - si: p√©riodicit√© = 'annuel'
        alors: 249.60

tarif classique:
  applicable si: type voyage = 'fr√©quent'
  formule:
    variations:
      - si: p√©riodicit√© = 'mensuel'
        alors: 52.80
      - si: p√©riodicit√© = 'annuel'
        alors: 532.80

tarif senior:
  applicable si: type voyage = 'fr√©quent'
  formule:
    variations:
      - si: p√©riodicit√© = 'mensuel'
        alors: 32.00
      - si: p√©riodicit√© = 'annuel'
        alors: 384.00

tarif salari√©:
  applicable si: type voyage = 'fr√©quent'
  formule:
    variations:
      - si: p√©riodicit√© = 'mensuel'
        alors: 35.50
      - si: p√©riodicit√© = 'annuel'
        alors: 426.00

# Tarifs solidaires
tarif solidaire 50:
  applicable si: type voyage = 'fr√©quent' et p√©riodicit√© = 'mensuel'
  formule:
    variations:
      - si: √¢ge < 11
        alors: 8.90
      - si: √¢ge >= 11 et √¢ge <= 27
        alors: 17.60
      - si: √¢ge >= 28 et √¢ge < 60
        alors: 26.40
      - si: √¢ge >= 60
        alors: 20.10

tarif solidaire 30:
  applicable si: type voyage = 'fr√©quent' et p√©riodicit√© = 'mensuel'
  formule:
    variations:
      - si: √¢ge < 11
        alors: 12.50
      - si: √¢ge >= 11 et √¢ge <= 27
        alors: 24.60
      - si: √¢ge >= 28 et √¢ge < 60
        alors: 37.00
      - si: √¢ge >= 60
        alors: 28.10

p√©riodicit√©:
  question: Quelle est la p√©riodicit√© de votre abonnement ?
  par d√©faut: "'mensuel'"
  applicable si: type voyage = 'fr√©quent'
  suggestions:
    - "'mensuel'"
    - "'annuel'"

√¢ge:
  question: Quel est votre √¢ge ?
  par d√©faut: 30
  suggestions:
    enfant: 8
    jeune: 18
    adulte: 35
    senior: 65

quotient familial:
  question: Quel est votre quotient familial ?
  par d√©faut: 1200
  description: Montant fourni par la CAF ou calcul√© √† partir de vos revenus
  suggestions:
    faible: 600
    moyen: 900
    √©lev√©: 1500

tranche solidaire:
  applicable si: type voyage = 'fr√©quent'
  formule:
    variations:
      - si: quotient familial <= 600
        alors: "'tranche 1'"
      - si: quotient familial <= 800
        alors: "'tranche 2'"
      - si: quotient familial <= 1000
        alors: "'tranche 3'"
      - sinon: "'aucune'"

salari√©:
  question: √ätes-vous salari√© ?
  par d√©faut: 'non'
  applicable si: 
    toutes ces conditions:
      - type voyage = 'fr√©quent'
      - √¢ge >= 28
      - √¢ge < 60
  suggestions:
    non: 'non'
    oui: 'oui'